[gcode_macro _idexReadMaterials]
variable_material_0: 210
variable_material_1: 210
variable_material_0_load: 210
variable_material_1_load: 210
variable_material_0_purge: 210
variable_material_1_purge: 210
variable_material_0_cooldown: 210
variable_material_1_cooldown: 210
variable_bed_temp_0: 80
variable_bed_temp_1: 80
gcode:
    {% set svv = printer.save_variables.variables %}
	{% set materials = ({
		"Breakaway": 225, #Feito E-15 IDEX
		"ABS": 235, #Feito E-15
		"ASA": 260,
		"BVOH": 205, #Feito E-15 IDEX
		"CPE": 245, #Feito E-15
		"CPE+": 270, #Feito E-15
		"Tritan": 250, #Feito E-15
		"I150": 235,
		"I151": 240,
		"I180": 260,
		"Nylon": 250, #Feito E-15
		"PA6 HT": 250, #Feito E-15
		"PAHT CF15": 270, #Feito E-15
		"PC": 280, #Feito E-15
		"PC-ABS": 280,
		"PET": 225, #Feito E-15
		"PET CF15": 270, #Feito E-15
		"PETG": 240, #Feito E-15
		"PLA": 211, #Feito E-15
		"PP": 207, #Feito E-15
		"PP GF30": 260, #Feito E-15
		"PVA": 225, #Feito E-15 IDEX
		"Tough PLA": 215, #Feito E-15
		"TPU 64D": 225, #Feito E-15
		"TPU 95A": 225, #Feito E-15
		"17-4PH": 245, 
		"316L": 240,
		"PLA HT": 260, #Feito E-15
		"PLA HTI": 280
	})%}

    {% set materials_load = ({
		"Breakaway": 230,
		"ABS": 245,
		"ASA": 260,
		"BVOH": 210,
		"CPE": 250,
		"CPE+": 275,
		"Tritan": 255,
		"I150": 235,
		"I151": 240,
		"I180": 260,
		"Nylon": 250,
		"PA6 HT": 250,
		"PAHT CF15": 280,
		"PC": 285,
		"PC-ABS": 280,
		"PET": 230,
		"PET CF15": 280,
		"PETG": 245,
		"PLA": 235,
		"PP": 215,
		"PP GF30": 270,
		"PVA": 225,
		"Tough PLA": 220,
		"TPU 64D": 235,
		"TPU 95A": 235,
		"17-4PH": 245,
		"316L": 240,
		"PLA HT": 270,
		"PLA HTI": 280
	})%}

    {% set materials_purge = ({
		"Breakaway": 200,
		"ABS": 185,
		"ASA": 260,
		"BVOH": 175,
		"CPE": 205,
		"CPE+": 220,
		"Tritan": 220,
		"I150": 235,
		"I151": 240,
		"I180": 260,
		"Nylon": 215,
		"PA6 HT": 215,
		"PAHT CF15": 260,
		"PC": 200,
		"PC-ABS": 280,
		"PET": 165,
		"PET CF15": 260,
		"PETG": 185,
		"PLA": 165,
		"PP": 178,
		"PP GF30": 250,
		"PVA": 180,
		"Tough PLA": 170,
		"TPU 64D": 210,
		"TPU 95A": 210,
		"17-4PH": 245,
		"316L": 240,
		"PLA HT": 175,
		"PLA HTI": 280
	})%}

	{% set materials_cooldown = ({
		"Breakaway": 200,
		"ABS": 175,
		"ASA": 260,
		"BVOH": 170,
		"CPE": 200,
		"CPE+": 210,
		"Tritan": 210,
		"I150": 235,
		"I151": 240,
		"I180": 260,
		"Nylon": 200,
		"PA6 HT": 200,
		"PAHT CF15": 260,
		"PC": 200,
		"PC-ABS": 280,
		"PET": 165,
		"PET CF15": 260,
		"PETG": 160,
		"PLA": 160,
		"PP": 165,
		"PP GF30": 250,
		"PVA": 180,
		"Tough PLA": 160,
		"TPU 64D": 205,
		"TPU 95A": 205,
		"17-4PH": 245,
		"316L": 240,
		"PLA HT": 170,
		"PLA HTI": 280
	})%}

    {% set bed_temp = ({
        "Breakaway": 60,
        "ABS": 90,
        "ASA": 95,
        "BVOH": 60,
        "CPE": 75,
        "CPE+": 95,
        "I150": 70,
        "I151": 85,
        "I180": 90,
        "Nylon": 70,
        "PAHT CF15": 100,
        "PC": 105,
        "PC-ABS": 95,
        "PET": 70,
        "PET CF15": 100,
        "PETG": 70,
        "PLA": 60,
        "PP": 100,
        "PP GF30": 85,
        "PVA": 60,
        "Tough PLA": 60,
        "TPU 64D": 60,
        "TPU 95A": 225,
        "17-4PH": 100,
        "316L": 100
    })%}

    {% if svv.material_ext0 in materials %}
        SET_GCODE_VARIABLE MACRO=_idexReadMaterials VARIABLE=material_0 VALUE={materials[svv.material_ext0]}
        SET_GCODE_VARIABLE MACRO=_idexReadMaterials VARIABLE=material_0_load VALUE={materials_load[svv.material_ext0]}
        SET_GCODE_VARIABLE MACRO=_idexReadMaterials VARIABLE=material_0_purge VALUE={materials_purge[svv.material_ext0]}
        SET_GCODE_VARIABLE MACRO=_idexReadMaterials VARIABLE=material_0_cooldown VALUE={materials_cooldown[svv.material_ext0]}
        SET_GCODE_VARIABLE MACRO=_idexReadMaterials VARIABLE=bed_temp_0 VALUE={bed_temp[svv.material_ext0]}
    {% endif %}

    {% if svv.material_ext1 in materials %}
        SET_GCODE_VARIABLE MACRO=_idexReadMaterials VARIABLE=material_1 VALUE={materials[svv.material_ext1]}
        SET_GCODE_VARIABLE MACRO=_idexReadMaterials VARIABLE=material_1_load VALUE={materials_load[svv.material_ext1]}
        SET_GCODE_VARIABLE MACRO=_idexReadMaterials VARIABLE=material_1_purge VALUE={materials_purge[svv.material_ext1]}
        SET_GCODE_VARIABLE MACRO=_idexReadMaterials VARIABLE=material_1_cooldown VALUE={materials_cooldown[svv.material_ext1]}
        SET_GCODE_VARIABLE MACRO=_idexReadMaterials VARIABLE=bed_temp_1 VALUE={bed_temp[svv.material_ext1]}
    {% endif %}

    RESPOND TYPE=echo MSG="_idexReadMaterials inside"
    M400 # Wait for all movements to finish
