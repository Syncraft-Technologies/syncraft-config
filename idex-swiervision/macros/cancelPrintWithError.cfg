[gcode_macro CANCEL_PRINT_WITH_ERROR]
gcode = 
	{% set error_msg = params.MSG|default('default_error_message')|string %}
	CANCEL_PRINT_BASE
	RESPOND TYPE=error MSG="{error_msg}"